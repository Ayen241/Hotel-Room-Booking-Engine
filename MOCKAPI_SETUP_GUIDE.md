# MockAPI Setup Guide for Hotel Booking Engine

This guide will walk you through setting up MockAPI from scratch to match the Angular project structure.

## Step 1: Create a MockAPI Account

1. Go to [https://mockapi.io](https://mockapi.io)
2. Sign up for a free account (you can use GitHub, Google, or email)
3. Log in to your account

## Step 2: Create a New Project

1. Click on **"+ New Project"** button
2. Enter a project name (e.g., "Hotel Booking")
3. Click **"Create"**
4. You'll get a unique endpoint URL like: `https://[unique-id].mockapi.io`

## Step 3: Create the "rooms" Resource

### 3.1 Add the Resource

1. Click on **"+ New Resource"** button
2. Enter resource name: `rooms`
3. Click **"Create"**

### 3.2 Configure Room Fields

Click on the **"rooms"** resource you just created, then add these fields:

| Field Name    | Type    | Description                           |
|---------------|---------|---------------------------------------|
| `id`          | string  | Auto-generated by MockAPI             |
| `name`        | string  | Room number (e.g., "101", "102")      |
| `type`        | string  | Room type (Single, Double, Suite)     |
| `price`       | number  | Price per night                       |
| `isAvailable` | boolean | Availability status                   |
| `description` | string  | Room description (optional)           |
| `imageUrl`    | string  | Image URL (optional)                  |
| `capacity`    | number  | Max guests (optional)                 |
| `amenities`   | array   | List of amenities (optional)          |

**Important:** Use `isAvailable` (not `availability`) to match the Angular Room model.

### 3.3 Add Sample Room Data

Click **"+ Add Data"** and add rooms manually, or use the data generator. Here's sample data you can use:

#### Room 1 - Deluxe Suite
```json
{
  "name": "101",
  "type": "Suite",
  "price": 250,
  "isAvailable": true,
  "description": "Luxurious suite with ocean view, king-size bed, and private balcony",
  "imageUrl": "https://images.unsplash.com/photo-1590490360182-c33d57733427?w=800",
  "capacity": 4,
  "amenities": ["WiFi", "TV", "Mini Bar", "Ocean View", "Balcony"]
}
```

#### Room 2 - Double Room
```json
{
  "name": "102",
  "type": "Double",
  "price": 150,
  "isAvailable": true,
  "description": "Comfortable double room with two queen beds and city view",
  "imageUrl": "https://images.unsplash.com/photo-1611892440504-42a792e24d32?w=800",
  "capacity": 4,
  "amenities": ["WiFi", "TV", "Air Conditioning", "City View"]
}
```

#### Room 3 - Single Room
```json
{
  "name": "201",
  "type": "Single",
  "price": 100,
  "isAvailable": true,
  "description": "Cozy single room with a comfortable queen bed",
  "imageUrl": "https://images.unsplash.com/photo-1618773928121-c32242e63f39?w=800",
  "capacity": 2,
  "amenities": ["WiFi", "TV", "Work Desk"]
}
```

#### Room 4 - Deluxe Room
```json
{
  "name": "202",
  "type": "Deluxe",
  "price": 200,
  "isAvailable": false,
  "description": "Elegant deluxe room with premium amenities and garden view",
  "imageUrl": "https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=800",
  "capacity": 3,
  "amenities": ["WiFi", "TV", "Mini Bar", "Garden View", "Jacuzzi"]
}
```

#### Room 5 - Standard Single
```json
{
  "name": "301",
  "type": "Single",
  "price": 80,
  "isAvailable": true,
  "description": "Budget-friendly single room with essential amenities",
  "imageUrl": "https://images.unsplash.com/photo-1566665797739-1674de7a421a?w=800",
  "capacity": 1,
  "amenities": ["WiFi", "TV"]
}
```

#### Room 6 - Executive Suite
```json
{
  "name": "302",
  "type": "Suite",
  "price": 300,
  "isAvailable": true,
  "description": "Premium executive suite with separate living area and panoramic views",
  "imageUrl": "https://images.unsplash.com/photo-1631049307264-da0ec9d70304?w=800",
  "capacity": 4,
  "amenities": ["WiFi", "TV", "Mini Bar", "Panoramic View", "Living Room", "Balcony"]
}
```

**Pro Tip:** Add at least 6-12 rooms with a mix of available and unavailable statuses for testing.

## Step 4: Create the "bookings" Resource

### 4.1 Add the Resource

1. Click on **"+ New Resource"** button
2. Enter resource name: `bookings`
3. Click **"Create"**

### 4.2 Configure Booking Fields

Click on the **"bookings"** resource, then add these fields:

| Field Name      | Type   | Description                           |
|-----------------|--------|---------------------------------------|
| `id`            | string | Auto-generated by MockAPI             |
| `roomId`        | string | ID of the booked room                 |
| `roomName`      | string | Name/number of the room               |
| `roomType`      | string | Type of room                          |
| `guestName`     | string | Name of the guest                     |
| `checkInDate`   | string | Check-in date (YYYY-MM-DD)            |
| `checkOutDate`  | string | Check-out date (YYYY-MM-DD)           |
| `totalPrice`    | number | Total booking price                   |
| `numberOfNights`| number | Number of nights                      |
| `bookingDate`   | string | When booking was made (ISO string)    |
| `status`        | string | Booking status (confirmed/cancelled)  |

### 4.3 Add Sample Booking Data (Optional)

You can add a few sample bookings for testing:

```json
{
  "roomId": "1",
  "roomName": "101",
  "roomType": "Suite",
  "guestName": "John Doe",
  "checkInDate": "2025-12-10",
  "checkOutDate": "2025-12-13",
  "totalPrice": 750,
  "numberOfNights": 3,
  "bookingDate": "2025-12-05T10:30:00.000Z",
  "status": "confirmed"
}
```

## Step 5: Update Your Angular Project

### 5.1 Update the API Base URL

Open `src/app/shared/constants/api.constants.ts` and update the base URL:

```typescript
export const API_BASE_URL = 'https://YOUR-UNIQUE-ID.mockapi.io';
```

Replace `YOUR-UNIQUE-ID` with the ID from your MockAPI project URL.

### 5.2 Verify the Room Model Matches

Make sure `src/app/models/room.model.ts` uses `isAvailable`:

```typescript
export interface Room {
  id: string;
  name: string;
  type: RoomType;
  price: number;
  isAvailable: boolean;  // âœ… Match this with MockAPI
  description?: string;
  imageUrl?: string;
  amenities?: string[];
  capacity?: number;
}
```

### 5.3 Verify the Booking Model Matches

Make sure `src/app/models/booking.model.ts` matches your MockAPI structure:

```typescript
export interface Booking {
  id: string;
  roomId: string;
  roomName: string;
  roomType: string;
  guestName: string;
  checkInDate: string;
  checkOutDate: string;
  totalPrice: number;
  numberOfNights: number;
  bookingDate: string;
  status: BookingStatus;
}
```

## Step 6: Test Your Setup

1. **Test the Rooms Endpoint:**
   ```powershell
   Invoke-WebRequest -Uri "https://YOUR-UNIQUE-ID.mockapi.io/rooms" | Select-Object -ExpandProperty Content
   ```

2. **Test the Bookings Endpoint:**
   ```powershell
   Invoke-WebRequest -Uri "https://YOUR-UNIQUE-ID.mockapi.io/bookings" | Select-Object -ExpandProperty Content
   ```

3. **Start your Angular app:**
   ```powershell
   npm start
   ```

## Step 7: Managing Data via MockAPI Dashboard

### Editing Room Availability

1. Go to your MockAPI dashboard
2. Click on the **"rooms"** resource
3. Find the room you want to edit
4. Click the **edit (pencil)** icon
5. Toggle `isAvailable` to `true` or `false`
6. Click **"Save"**
7. Refresh your Angular app to see the changes

### Adding New Rooms

1. Click **"+ Add Data"** in the rooms resource
2. Fill in all the fields
3. Click **"Save"**

### Deleting Rooms

1. Click the **trash** icon next to any room
2. Confirm deletion

## Common Issues and Solutions

### Issue 1: Field Name Mismatch
**Problem:** MockAPI uses `availability` but Angular expects `isAvailable`

**Solution:** Make sure to name the field `isAvailable` in MockAPI (not `availability`)

### Issue 2: CORS Errors
**Problem:** Browser blocks requests to MockAPI

**Solution:** MockAPI has CORS enabled by default. If you see CORS errors, check your browser console and ensure you're using the correct URL.

### Issue 3: Data Not Updating
**Problem:** Changes in MockAPI don't appear in the app

**Solution:** 
- Clear browser cache (Ctrl + Shift + Delete)
- Do a hard refresh (Ctrl + F5)
- Check the Network tab in DevTools to see the actual API response

### Issue 4: 404 Not Found
**Problem:** API endpoints return 404

**Solution:** 
- Verify the base URL in `api.constants.ts`
- Make sure resource names are lowercase (`rooms`, `bookings`)
- Check that your MockAPI project is still active

## MockAPI Limitations (Free Tier)

- **100 requests per minute** per project
- **10 resources** per project
- **1000 records** per resource
- Data persists indefinitely (but can be manually deleted)

## Best Practices

1. **Use Realistic Data:** Add realistic room names, prices, and descriptions
2. **Mix Availability:** Have some rooms available and some unavailable for testing
3. **Consistent Naming:** Use camelCase for all field names
4. **Type Safety:** Match field types exactly between MockAPI and TypeScript interfaces
5. **Test Thoroughly:** Test both GET and POST requests before deploying

## Quick Reference: Your Current Setup

- **Base URL:** `https://6932963ae5a9e342d26fd8e9.mockapi.io`
- **Rooms Endpoint:** `https://6932963ae5a9e342d26fd8e9.mockapi.io/rooms`
- **Bookings Endpoint:** `https://6932963ae5a9e342d26fd8e9.mockapi.io/bookings`

## Next Steps

1. Delete the current MockAPI project or modify all room records to use `isAvailable` instead of `availability`
2. Add more realistic room data
3. Test all CRUD operations from your Angular app
4. Monitor the MockAPI dashboard to see data changes in real-time

---

**Need Help?** 
- MockAPI Documentation: https://mockapi.io/docs
- Angular HttpClient: https://angular.io/guide/http
