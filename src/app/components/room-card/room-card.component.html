<div class="card h-100 room-card" [class.unavailable]="!room.isAvailable">
  <!-- Room Image -->
  <img 
    [src]="getRoomImage()" 
    [alt]="'Room ' + room.name"
    class="card-img-top"
    loading="lazy"
  />
  
  <!-- Availability Badge -->
  <span class="badge position-absolute top-0 end-0 m-3" [ngClass]="getAvailabilityBadgeClass()">
    {{ getAvailabilityText() }}
  </span>

  <div class="card-body d-flex flex-column">
    <!-- Room Header -->
    <div class="d-flex justify-content-between align-items-start mb-2">
      <div>
        <h5 class="card-title mb-1">Room {{ room.name }}</h5>
        <span class="badge bg-primary">{{ room.type }}</span>
      </div>
      <div class="text-end">
        <div class="price">${{ room.price }}</div>
        <small class="text-muted">per night</small>
      </div>
    </div>

    <!-- Room Description -->
    <p class="card-text text-muted mb-2" *ngIf="room.description">
      {{ room.description }}
    </p>

    <!-- Room Details -->
    <div class="room-details mb-3">
      <div class="d-flex align-items-center mb-2" *ngIf="room.capacity">
        <i class="bi bi-people-fill text-primary me-2"></i>
        <small>Capacity: {{ room.capacity }} {{ room.capacity === 1 ? 'guest' : 'guests' }}</small>
      </div>
      
      <div class="d-flex align-items-center" *ngIf="room.amenities && room.amenities.length > 0">
        <i class="bi bi-star-fill text-warning me-2"></i>
        <small class="amenities-text">
          {{ getAmenitiesText() }}
          <span *ngIf="hasMoreAmenities()" class="text-muted">
            +{{ getRemainingAmenitiesCount() }} more
          </span>
        </small>
      </div>
    </div>

    <!-- Book Button -->
    <div class="mt-auto">
      <button 
        type="button"
        class="btn btn-primary w-100"
        [disabled]="!room.isAvailable"
        (click)="onBookClick()"
      >
        <i class="bi bi-calendar-check me-2"></i>
        {{ room.isAvailable ? 'Book Now' : 'Not Available' }}
      </button>
    </div>
  </div>
</div>
